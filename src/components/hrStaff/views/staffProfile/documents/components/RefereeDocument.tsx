import React, { useState } from 'react'
import {DocumentContainer, DocumentUploader} from './index'
import { Button } from '../../../../components'


const RefereeDocument = () => {
  const [selectedFile, setSelectedFile] = useState<File | null>(null);
  const [isSaved, setIsSaved] = useState<boolean>(false);




const downloadSelectedFile = () => {
  if (!selectedFile) return
  const downloadUrl = URL.createObjectURL(selectedFile)
  const a = document.createElement('a')
  a.href = downloadUrl
  a.download = selectedFile.name
  document.body.appendChild(a)
  a.click()
  document.body.removeChild(a)
  URL.revokeObjectURL(downloadUrl)
}


return (
  <DocumentContainer
      title='Referee Documents'
      button={
      <div className='flex items-start justify-start xl:gap-4 lg:gap-3 gap-2'>
          <DocumentUploader
              isSaved={isSaved}
              setIsSaved={setIsSaved}
              selectedFile={selectedFile}
              setSelectedFile={setSelectedFile}
          />
          <Button
             type='button'
             onClick={downloadSelectedFile}
             className={`bg-primary hover:bg-opacity-90 ${selectedFile ? "" : "hidden"}`}
             children={<>
             <svg className='xl:w-[23px] xl:h-4 lg:w-[18px] lg:h-3 w-3 h-2' viewBox="0 0 23 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path d="M6 15.9996C4.48333 15.9996 3.18767 15.4746 2.113 14.4246C1.03767 13.3746 0.5 12.0913 0.5 10.5746C0.5 9.27461 0.891667 8.11628 1.675 7.09961C2.45833 6.08294 3.48333 5.43294 4.75 5.14961C5.03333 3.94961 5.74167 2.80794 6.875 1.72461C8.00833 0.641276 9.21667 0.0996094 10.5 0.0996094C11.05 0.0996094 11.521 0.295276 11.913 0.686609C12.3043 1.07861 12.5 1.54961 12.5 2.09961V8.14961L14.1 6.59961L15.5 7.99961L11.5 11.9996L7.5 7.99961L8.9 6.59961L10.5 8.14961V2.09961C9.23333 2.33294 8.25 2.94528 7.55 3.93661C6.85 4.92861 6.5 5.94961 6.5 6.99961H6C5.03333 6.99961 4.20833 7.34128 3.525 8.02461C2.84167 8.70794 2.5 9.53294 2.5 10.4996C2.5 11.4663 2.84167 12.2913 3.525 12.9746C4.20833 13.6579 5.03333 13.9996 6 13.9996H18C18.7 13.9996 19.2917 13.7579 19.775 13.2746C20.2583 12.7913 20.5 12.1996 20.5 11.4996C20.5 10.7996 20.2583 10.2079 19.775 9.72461C19.2917 9.24128 18.7 8.99961 18 8.99961H16.5V6.99961C16.5 6.19961 16.3167 5.45361 15.95 4.76161C15.5833 4.07028 15.1 3.48294 14.5 2.99961V0.67461C15.7333 1.25794 16.7083 2.12061 17.425 3.26261C18.1417 4.40394 18.5 5.64961 18.5 6.99961C19.65 7.13294 20.6043 7.62861 21.363 8.48661C22.121 9.34528 22.5 10.3496 22.5 11.4996C22.5 12.7496 22.0627 13.8123 21.188 14.6876C20.3127 15.5623 19.25 15.9996 18 15.9996H6Z" fill="white"/>
                 </svg>
             <span className='font-poppins font-medium xl:text-[15px] leading-4 lg:text-[13px] text-[11px] text-white'>Download</span>
             </>}
         />
</div>}>
  {selectedFile ? (
    //<a href={selectedFile.url} download>
    <p onClick={downloadSelectedFile} className='font-mulish font-normal xl:text-base lg:text-sm text-xs text-black underline cursor-pointer'>
      {selectedFile.name}
    </p>
  //</a>
  ) : (
    <svg className='xl:w-10 xl:h-[42px] lg:w-[30px] lg:h-8 w-5 h-6' viewBox="0 0 40 42" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M29.4167 37.667C29.7986 37.667 30.1201 37.5364 30.3812 37.2753C30.641 37.0156 30.7708 36.6948 30.7708 36.3128C30.7708 35.9309 30.641 35.6094 30.3812 35.3482C30.1201 35.0885 29.7986 34.9587 29.4167 34.9587C29.0347 34.9587 28.7139 35.0885 28.4542 35.3482C28.1931 35.6094 28.0625 35.9309 28.0625 36.3128C28.0625 36.6948 28.1931 37.0156 28.4542 37.2753C28.7139 37.5364 29.0347 37.667 29.4167 37.667ZM28.4792 33.7087H30.3542V33.1878C30.3542 32.8059 30.4583 32.467 30.6667 32.1712C30.875 31.8767 31.1181 31.5906 31.3958 31.3128C31.8819 30.8962 32.2639 30.4969 32.5417 30.1149C32.8194 29.733 32.9583 29.1948 32.9583 28.5003C32.9583 27.4934 32.6285 26.6864 31.9688 26.0795C31.309 25.4712 30.4583 25.167 29.4167 25.167C28.6181 25.167 27.8979 25.401 27.2563 25.8691C26.6132 26.3385 26.1528 26.9725 25.875 27.7712L27.5417 28.5003C27.6458 28.0837 27.8632 27.7191 28.1937 27.4066C28.5229 27.0941 28.9306 26.9378 29.4167 26.9378C29.9375 26.9378 30.3451 27.0677 30.6396 27.3274C30.9354 27.5885 31.0833 27.9795 31.0833 28.5003C31.0833 28.8823 30.9792 29.2031 30.7708 29.4628C30.5625 29.7239 30.3194 29.9934 30.0417 30.2712C29.8333 30.4795 29.6167 30.6878 29.3917 30.8962C29.1653 31.1045 28.9653 31.3476 28.7917 31.6253C28.6875 31.8337 28.609 32.042 28.5562 32.2503C28.5049 32.4587 28.4792 32.7017 28.4792 32.9795V33.7087ZM29.4167 41.8337C26.5347 41.8337 24.0785 40.8184 22.0479 38.7878C20.016 36.7559 19 34.2989 19 31.417C19 28.535 20.016 26.0781 22.0479 24.0462C24.0785 22.0156 26.5347 21.0003 29.4167 21.0003C32.2986 21.0003 34.7556 22.0156 36.7875 24.0462C38.8181 26.0781 39.8333 28.535 39.8333 31.417C39.8333 34.2989 38.8181 36.7559 36.7875 38.7878C34.7556 40.8184 32.2986 41.8337 29.4167 41.8337ZM19 14.7503H29.4167L19 4.33366V14.7503ZM0.25 41.8337V0.166992H21.0833L33.5833 12.667V17.4587C32.8889 17.2503 32.1944 17.0941 31.5 16.9899C30.8056 16.8857 30.1111 16.8337 29.4167 16.8337C27.4375 16.8337 25.5708 17.2066 23.8167 17.9524C22.0639 18.6996 20.5278 19.7156 19.2083 21.0003H8.58333V25.167H16.2396C15.9271 25.8267 15.6667 26.5038 15.4583 27.1982C15.25 27.8927 15.0937 28.6045 14.9896 29.3337H8.58333V33.5003H14.9896C15.2326 35.0628 15.7187 36.5649 16.4479 38.0066C17.1771 39.4469 18.1146 40.7225 19.2604 41.8337H0.25Z" fill="#7D8FB3"/>
    </svg>
  )}
  <p className='font-mulish font-normal xl:text-base lg:text-sm text-xs text-blackish'>Keep an eye on your employeeâ€™s referee documents. All in one place.</p>
</DocumentContainer>
)
}

export default RefereeDocument